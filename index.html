<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="Find out how many times you can watch The Lord of the Rings in a given time.">
    <meta name="author" content="John Matthews, Mohnjatthews">
    <title>LOTR Timer</title>
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link rel="icon" href="favicon.ico">
</head>

<body>
    <nav class="navbar navbar-expand-lg navbar-dark navbar-custom fixed-top">
        <div class="container">
            <a class="navbar-brand" href="//www.mohnjatthews.com">back to mohnjatthews.com</a>
        </div>
    </nav>

    <header class="masthead text-center text-white">
        <div class="masthead-content">
            <div class="container">
                <h1 class="masthead-heading mb-0">The Lord of the Rings</h1>
                <h2 class="masthead-subheading mb-0">Timer</h2>
                <a href="#calc" class="btn btn-primary btn-xl rounded-pill mt-5">Muster the Rohirrim</a>
            </div>
        </div>
    </header>

    <section>
        <div class="container">
            <div class="row align-items-center">
                <div class="col-lg-6 order-lg-2">
                    <div class="p-5">
                        <img class="img-fluid rounded-circle" src="img/01.jpg" alt="">
                    </div>
                </div>
                <div class="col-lg-6 order-lg-1">
                    <div class="p-5">
                        <h2 class="display-4">So it's pretty simple...</h2>
                        <p>Say you've got a flight from England to Australia coming up, and you wanna know how many time you can watch The Lord of the Rings trilogy in that time. Well, this timer lets you know how far through you'll get, what scene you'll get up to, and how many times through you'll be able to watch the whole trilogy (if you get that far).</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="calc">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-lg-6">
                    <div class="p-5">
                        <div class="form-group">
                            <h3>How much time do you have (in minutes):</h3>
                            <input type="number" class="form-control" id="input_minutes" required>
                        </div>
                        <div class="checkbox">
                            <label><input id="frodo_and_sam" type="checkbox"> Skip Frodo and Sam?</label>
                        </div>
                        <a onclick="main()" class="btn btn-primary" href="#results">Submit</a>
                    </div>
                </div>
                <div class="col-lg-6" id="results">
                    <div class="p-5">
                        <h4 id="intro">You can watch The Lord of the Rings</h4>
                        <h2 class="display-4"><span id="lotr_multiple">0</span> times...</h2>
                        <p>You got up to <span id="output_scene"></span> in <span id="output_movie"></span>. That's the one where <span id="output_scene_description"></span></p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section>
        <div class="container" id="why">
            <div class="row align-items-center">
                <div class="col-xs-12">
                    <div class="p-5">
                        <h2 id="why" class="display-4">But why?</h2>
                        <p>Look right, I wanted to teach myself a bit of JS about 4 years ago. This seemed like a solid idea at the time, but I quickly learned that JS is stupid and I hate it. Mainly because I can't declare variables with a dollar sign. I mean honestly, what's the point.</p>
                        <p>There's a few things I wanna add to this. Like, if you were heading on a road trip and you wanted to know how many times you could watch the triology in that time? You could just map out the route and then it'd tell you? That'd be pretty cool. Also maybe have the Frodo and Sam thing work one day, that'd be fun. And you know what, having some curl function would be pretty sweet. Like, lotr-timer-as-a-service? Clearly what this industry needs.</p>
                        <p>Anyway, all the code's on <a href="//github.com/mohnjatthews/lotr-timer">GitHub</a>. So feel free to pick it appart or whatever. I'm off to complain about The Hobbit trilogy.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <footer class="py-5 bg-black">
        <div class="container">
            <p class="m-0 text-center text-white small">copyright mohnjatthews and peter jackson and the tolkien estate</p>
        </div>
    </footer>

    <script>
        function main() {
            // Set output variables, for user later.
            lotr_multiple = "0";
            output_movie = "one of the three movies";
            output_scene = "that one scene";
            output_scene_description = "something happens. I can't remember what. Was probably pretty mint though. Unless it was one of those Frodo + Sam scenes, with Golum third-wheeling in the background. Nobody likes those.";

            // Grab the user inputs.
            user_input = document.getElementById("input_minutes").value;
            frodo_and_sam = document.getElementById("frodo_and_sam").checked;

            // Check if the user actually input anything.
            if (user_input != '' && user_input != null && user_input != 'undefined') {
                user_input = Math.round(user_input);
                if (frodo_and_sam == true) {
                    fas_return = withoutFrodoAndSam(user_input);
                } else {
                    fas_return = withFrodoAndSam(user_input);
                }
            } else {
                // The user didn't input anything.
                document.getElementById('intro').innerHTML = 'You need to input some numbers mate...';
            }

            // Output findings
            // fas_return = [lotr_multiple, output_movie, output_scene]
            document.getElementById('lotr_multiple').innerHTML = lotr_multiple;
            document.getElementById('output_movie').innerHTML = output_movie;
            document.getElementById('output_scene').innerHTML = output_scene;
            document.getElementById('output_scene_description').innerHTML = output_scene_description;
        }

        function withFrodoAndSam(user_input) {
            // Set movie time values for easy code reading.
            lotr = 39840;
            fotr = 10690;
            tt = 21441;
            rotk = 33486;

            // Define LOTR multiple, if any.
            lotr_multiple = 0;
            while (user_input > lotr) {
                user_input = user_input - lotr;
                lotr_multiple = lotr_multiple + 1;
            }

            // Determine which movie the user get's up to.
            if (user_input < fotr) {
                output_movie = "The Fellowship of the Ring";
            } else if (user_input < tt) {
                output_movie = "The Two Towers";
            } else {
                output_movie = "The Return of the King";
            }

            // Dear Future John, 
            // I'm so sorry. This case statement is just shocking. If this were PHP I'd make you a nice pretty DB with pivot
            // tables and redis caches and everything. But alas, this is JS. And I'll be damned if I ever use / learn jQuery.
            // Yours faithfully, Past John.
            switch (true) {
                case (user_input < 417):
                    output_scene = ("Prologue: One Ring to Rule Them All...");
                    break;
                case (user_input < 722):
                    output_scene = ("The Shire")
                    break;
                case (user_input < 953):
                    output_scene = ("Very Old Friends");
                    break;
                case (user_input < 1254):
                    output_scene = ("A Long-expected Party");
                    break;
                case (user_input < 1499):
                    output_scene = ("Farewell Dear Bilbo");
                    break;
                case (user_input < 1629):
                    output_scene = ("Keep It Secret, Keep It Safe");
                    break;
                case (user_input < 1795):
                    output_scene = ("The Account of Isildur");
                    break;
                case (user_input < 2328):
                    output_scene = ("The Shadow of the Past");
                    break;
                case (user_input < 2620):
                    output_scene = ("Saruman the White");
                    break;
                case (user_input < 2883):
                    output_scene = ("A Shortcut to Mushrooms");
                    break;
                case (user_input < 3022):
                    output_scene = ("Bucklebury Ferry");
                    break;
                case (user_input < 3340):
                    output_scene = ("At the Sign of the Prancing Pony");
                    break;
                case (user_input < 3534):
                    output_scene = ("The Nazgul");
                    break;
                case (user_input < 3647):
                    output_scene = ("The Spoiling of Isengard");
                    break;
                case (user_input < 3934):
                    output_scene = ("A Knife in the Dark");
                    break;
                case (user_input < 4090):
                    output_scene = ("The Caverns of Isengard");
                    break;
                case (user_input < 4497):
                    output_scene = ("Flight to the Ford");
                    break;
                case (user_input < 4610):
                    output_scene = ("Rivendell");
                    break;
                case (user_input < 4807):
                    output_scene = ("Many Meetings");
                    break;
                case (user_input < 5012):
                    output_scene = ("The Fate of the Ring");
                    break;
                case (user_input < 5120):
                    output_scene = ("The Sword That Was Broken");
                    break;
                case (user_input < 5198):
                    output_scene = ("The Evenstar");
                    break;
                case (user_input < 5577):
                    output_scene = ("The Council of Elrond");
                    break;
                case (user_input < 5682):
                    output_scene = ("Bilbo's Gifts");
                    break;
                case (user_input < 5877):
                    output_scene = ("The Ring Goes South");
                    break;
                case (user_input < 6196):
                    output_scene = ("The Pass of Caradhras");
                    break;
                case (user_input < 6492):
                    output_scene = ("Moria");
                    break;
                case (user_input < 6749):
                    output_scene = ("A Journey in the Dark");
                    break;
                case (user_input < 7300):
                    output_scene = ("Balin's Tomb");
                    break;
                case (user_input < 7908):
                    output_scene = ("The Bridge of Khazad-Dum");
                    break;
                case (user_input < 8270):
                    output_scene = ("Lothlorien");
                    break;
                case (user_input < 8577):
                    output_scene = ("The Mirror of Galadriel");
                    break;
                case (user_input < 8687):
                    output_scene = ("The Fighting Uruk-hai");
                    break;
                case (user_input < 8734):
                    output_scene = ("Farewell the Lorien");
                    break;
                case (user_input < 8920):
                    output_scene = ("The Great River");
                    break;
                case (user_input < 9311):
                    output_scene = ("Parth Galen");
                    break;
                case (user_input < 9786):
                    output_scene = ("The Breaking of the Fellowship");
                    break;
                case (user_input < 9922):
                    output_scene = ("The Departure of Boromir");
                    break;
                case (user_input < 10320):
                    output_scene = ("The Road Goes Ever On");
                    break;
                case (user_input < 10690):
                    output_scene = ("Credits");
                    break;
                case (user_input < 10923):
                    output_scene = ("The Foundation of Stone");
                    break;
                case (user_input < 11364):
                    output_scene = ("The Taming of Smeagol");
                    break;
                case (user_input < 11423):
                    output_scene = ("The Uruk-hai");
                    break;
                case (user_input < 11560):
                    output_scene = ("The Three Hunters");
                    break;
                case (user_input < 11774):
                    output_scene = ("The Burning of the Westfold");
                    break;
                case (user_input < 11922):
                    output_scene = ("The Banishment of Eomer");
                    break;
                case (user_input < 11978):
                    output_scene = ("On the Trail of the Uruk-hai");
                    break;
                case (user_input < 12156):
                    output_scene = ("Night Camp at Fangorn");
                    break;
                case (user_input < 12443):
                    output_scene = ("The Riders of Rohan");
                    break;
                case (user_input < 12621):
                    output_scene = ("Traces of Merry and Pippin");
                    break;
                case (user_input < 12827):
                    output_scene = ("Treebeard");
                    break;
                case (user_input < 13229):
                    output_scene = ("The Passage of the Marshes");
                    break;
                case (user_input < 13534):
                    output_scene = ("The White Rider");
                    break;
                case (user_input < 13580):
                    output_scene = ("Fangorn Forest");
                    break;
                case (user_input < 13897):
                    output_scene = ("The Black Gate is Closed");
                    break;
                case (user_input < 14572):
                    output_scene = ("The King of the Golden Hall");
                    break;
                case (user_input < 14652):
                    output_scene = ("Simbelmyne on the Burial Mounds");
                    break;
                case (user_input < 14825):
                    output_scene = ("The King's Decision");
                    break;
                case (user_input < 14898):
                    output_scene = ("A Daughter of Kings");
                    break;
                case (user_input < 14957):
                    output_scene = ("Exodus from Edoras");
                    break;
                case (user_input < 15053):
                    output_scene = ("The Forests of Ithilien");
                    break;
                case (user_input < 15172):
                    output_scene = ("Gollum and Smeagol");
                    break;
                case (user_input < 15496):
                    output_scene = ("Of Herbs and Stewed Rabbit");
                    break;
                case (user_input < 15568):
                    output_scene = ("Dwarf Women");
                    break;
                case (user_input < 15787):
                    output_scene = ("The Evenstar");
                    break;
                case (user_input < 16255):
                    output_scene = ("The Wolves of Isengard");
                    break;
                case (user_input < 16405):
                    output_scene = ("Helm's Deep");
                    break;
                case (user_input < 16566):
                    output_scene = ("Isengard Unleashed");
                    break;
                case (user_input < 16668):
                    output_scene = ("The Grace of the Valar");
                    break;
                case (user_input < 16854):
                    output_scene = ("Arwen's Fate");
                    break;
                case (user_input < 16976):
                    output_scene = ("The Story Foreseen from Lorien");
                    break;
                case (user_input < 17127):
                    output_scene = ("The Window on the West");
                    break;
                case (user_input < 17469):
                    output_scene = ("The Forbidden Pool");
                    break;
                case (user_input < 17797):
                    output_scene = ("Aragorn's Return");
                    break;
                case (user_input < 17886):
                    output_scene = ("Entmoot");
                    break;
                case (user_input < 18002):
                    output_scene = ("The Glittering Caves");
                    break;
                case (user_input < 18097):
                    output_scene = ('"Where is the Horse and the Rider?"');
                    break;
                case (user_input < 18320):
                    output_scene = ("The Host of the Eldar");
                    break;
                case (user_input < 18786):
                    output_scene = ("The Battle of the Hornburg");
                    break;
                case (user_input < 18878):
                    output_scene = ("Old Entish");
                    break;
                case (user_input < 19136):
                    output_scene = ("The Breach of the Deeping Wall");
                    break;
                case (user_input < 19226):
                    output_scene = ("The Entmoot Decides");
                    break;
                case (user_input < 19647):
                    output_scene = ("Retreat to the Hornburg");
                    break;
                case (user_input < 19721):
                    output_scene = ("Master Peregrin's Plan");
                    break;
                case (user_input < 19772):
                    output_scene = ("Osgiliath");
                    break;
                case (user_input < 19892):
                    output_scene = ("The Last March of the Ents");
                    break;
                case (user_input < 20042):
                    output_scene = ("The Nazgul Attack");
                    break;
                case (user_input < 20339):
                    output_scene = ("Forth Eorlingas");
                    break;
                case (user_input < 20526):
                    output_scene = ("The Flooding of Isengard");
                    break;
                case (user_input < 20782):
                    output_scene = ("The Tales That Really Mattered...");
                    break;
                case (user_input < 20878):
                    output_scene = ('"The Battle for Middle-earth is about to Begin"');
                    break;
                case (user_input < 21031):
                    output_scene = ("Gollum's Plan");
                    break;
                case (user_input < 21441):
                    output_scene = ("Credits");
                    break;
                case (user_input < 21817):
                    output_scene = ("The Finding of the Ring");
                    break;
                case (user_input < 22007):
                    output_scene = ("Journey to the Cross-roads");
                    break;
                case (user_input < 22209):
                    output_scene = ("The Road to Isengard");
                    break;
                case (user_input < 22379):
                    output_scene = ("Return to Edoras");
                    break;
                case (user_input < 22598):
                    output_scene = ("Gollum's Villainy");
                    break;
                case (user_input < 23021):
                    output_scene = ("The Palantir");
                    break;
                case (user_input < 23196):
                    output_scene = ("Arwen's Vision");
                    break;
                case (user_input < 23302):
                    output_scene = ("The Reforging of Narsil");
                    break;
                case (user_input < 23600):
                    output_scene = ("Minas Tirith");
                    break;
                case (user_input < 23728):
                    output_scene = ('"The Deep Breath Before the Plunge"');
                    break;
                case (user_input < 23962):
                    output_scene = ("Minas Morgul");
                    break;
                case (user_input < 23993):
                    output_scene = ('"The Board is Set..."');
                    break;
                case (user_input < 24150):
                    output_scene = ("Osgiliath Invaded");
                    break;
                case (user_input < 24295):
                    output_scene = ("The Lighting of the Beacons");
                    break;
                case (user_input < 24790):
                    output_scene = ("Theoden's Decision");
                    break;
                case (user_input < 123456789):
                    output_scene = ("The Fall of Osgiliath");
                    break;
                case (user_input < 24902):
                    output_scene = ("The Stairs of Cirith Ungol");
                    break;
                case (user_input < 25058):
                    output_scene = ("Allegiance to Denethor");
                    break;
                case (user_input < 25370):
                    output_scene = ("The Parting of Sam and Frodo");
                    break;
                case (user_input < 25693):
                    output_scene = ("The Sacrifice of Faramir");
                    break;
                case (user_input < 26193):
                    output_scene = ("Marshalling at Dunharrow");
                    break;
                case (user_input < 26218):
                    output_scene = ("Anduril - Flame of the West");
                    break;
                case (user_input < 26370):
                    output_scene = ("Aragorn Takes the Paths of the Dead");
                    break;
                case (user_input < 26439):
                    output_scene = ('"No More Despair"');
                    break;
                case (user_input < 26575):
                    output_scene = ("Dwimorberg - The Haunted Mountain");
                    break;
                case (user_input < 26714):
                    output_scene = ("The Muster for Rohan");
                    break;
                case (user_input < 26895):
                    output_scene = ("The King of the Dead");
                    break;
                case (user_input < 27440):
                    output_scene = ("The Siege of Gondor");
                    break;
                case (user_input < 28022):
                    output_scene = ("Shelob's Lair");
                    break;
                case (user_input < 28064):
                    output_scene = ("Grond - The Hammer of the Underworld");
                    break;
                case (user_input < 28096):
                    output_scene = ("The Tomb of the Stewards");
                    break;
                case (user_input < 28174):
                    output_scene = ("Breaking the Gate of Gondor");
                    break;
                case (user_input < 28544):
                    output_scene = ("The Choices of Master Samwise");
                    break;
                case (user_input < 28608):
                    output_scene = ("Denethor's Madness");
                    break;
                case (user_input < 28997):
                    output_scene = ("The Ride of the Rohirrim");
                    break;
                case (user_input < 29115):
                    output_scene = ("The Pyre of Denethor");
                    break;
                case (user_input < 29400):
                    output_scene = ("The Battle of the Pelennore Fields");
                    break;
                case (user_input < 29475):
                    output_scene = ('"A Far Green Country"');
                    break;
                case (user_input < 29593):
                    output_scene = ("The Nazgul and His Prey");
                    break;
                case (user_input < 29651):
                    output_scene = ("The Black Ships");
                    break;
                case (user_input < 29705):
                    output_scene = ("Shieldmaiden of Rohan");
                    break;
                case (user_input < 29851):
                    output_scene = ("Victory at Minas Tirith");
                    break;
                case (user_input < 29941):
                    output_scene = ("The Passing of Theoden");
                    break;
                case (user_input < 30034):
                    output_scene = ("Oaths Fulfilled");
                    break;
                case (user_input < 30385):
                    output_scene = ("The Tower of Cirith Ungol");
                    break;
                case (user_input < 30483):
                    output_scene = ("The Last Debate");
                    break;
                case (user_input < 30654):
                    output_scene = ("The Land of Shadow");
                    break;
                case (user_input < 30947):
                    output_scene = ("The Black Gate Opens");
                    break;
                case (user_input < 31071):
                    output_scene = ('"I Can\'t Carry It for You... But I Can Carry You"');
                    break;
                case (user_input < 31139):
                    output_scene = ("The Last Move");
                    break;
                case (user_input < 31236):
                    output_scene = ("Mount Doom");
                    break;
                case (user_input < 31272):
                    output_scene = ('"The Eagles are Coming!"');
                    break;
                case (user_input < 31620):
                    output_scene = ("The Crack of Doom");
                    break;
                case (user_input < 31758):
                    output_scene = ("Sauron Defeated");
                    break;
                case (user_input < 31960):
                    output_scene = ("The End of All Things");
                    break;
                case (user_input < 32079):
                    output_scene = ("The Fellowship Reunited");
                    break;
                case (user_input < 32364):
                    output_scene = ("The Return of the King");
                    break;
                case (user_input < 32613):
                    output_scene = ("Homeward Bound");
                    break;
                case (user_input < 33067):
                    output_scene = ("The Grey Havens");
                    break;
                case (user_input < 33067):
                    output_scene = ("The Grey Havens");
                    break;
                case (user_input < 33486):
                    output_scene = ("End Credits");
                    break;
            }

            // Why doesn't JS do associative arrays? Honestly...
            return_array = [
                lotr_multiple,
                output_movie,
                output_scene
            ];
            return return_array;
        }

        function withoutFrodoAndSam(user_input) {
            // I'll get round to this bit at some point...
        }
    </script>
</body>

</html>